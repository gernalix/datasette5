{% extends "default:base.html" %}

{% block extra_head %}
  {{ super() }}
  <!-- Core Datasette CSS -->
  <link rel="stylesheet" href="/-/static/app.css">

  <!-- Custom CSS (single-source, no duplicates in metadata.json) -->
  <link rel="stylesheet" href="/custom/styles.css?v=20">
  <link rel="stylesheet" href="/custom/desktop.css?v=20">
  <link rel="stylesheet" href="/custom/mobile.css?v=20" media="(max-width: 900px)">
  <link rel="stylesheet" href="/custom/date_range_filter.css?v=20">

  <!-- Custom JS: ORDER MATTERS. All 'defer'. -->
  <!-- 1) Base formatting (neutral + booleans via not_booleans.txt) -->
  <script defer src="/custom/formatting.js?v=20"></script>

  <!-- 2) Filtering & utilities that read cell values -->
  <script defer src="/custom/click_to_filter.js?v=20"></script>
  <script defer src="/custom/date_range_filter.js?v=20"></script>

  <!-- 3) Timestamp helpers -->
  <script defer src="/custom/timestamp_autosize_config.js?v=20"></script>
  <script defer src="/custom/timestamp_calendar_button.js?v=20"></script>

  <!-- 4) Maps & overlays -->
  <script defer src="/custom/map_overlay.js?v=20"></script>
  <script defer src="/custom/calendar_range_map.js?v=20"></script>

  <!-- 5) Tables that build DOM dinamically -->
  <script defer src="/custom/calendar_range_split.js?v=20"></script>

  <!-- 6) Misc -->
  <script defer src="/custom/durata_sum.js?v=20"></script>
  <script defer src="/custom/fix_links.js?v=20"></script>

  <!-- 7) FINAL: columns that must override content (emoji link) -->
  <script defer src="/custom/link_columns.js?v=20"></script>
{% endblock %}
